(this["webpackJsonpAlon-Tal-07-07-2020"]=this["webpackJsonpAlon-Tal-07-07-2020"]||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=a(32),u=a(27),s=a(70),l=a(168),m=a(169),p=a(80),f=a(12),h=a(76),d=a(162),y=a(156),x=a(14),v=a(16),g=a.n(v),b=a(23),E=a(20),C=a(170),w=a(163),O=a(171),T=a(48),A=a.n(T),j=a(49),N=a.n(j),D={getCurrentWeather:function(e){return L.apply(this,arguments)},getAutoCompCityList:function(e){return A.a.get(F(e)).then((function(e){return e.data})).catch((function(){N.a.fire({type:"error",title:"You have exceeded 50 AJAX Calls a Day",text:"Please, Try again tomorrow or with another Api Key."})}))},getForecasts:function(e){return S.apply(this,arguments)},getDefaultCity:function(){return I[0]}};function L(){return(L=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(k(t));case 3:return a=e.sent,n=a.data[0],e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),N.a.fire({type:"error",title:"You have exceeded 50 AJAX calls per Day",text:"Please, Try again tomorrow or with another Api Key."}),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(U(t));case 3:return a=e.sent,n=a.data.DailyForecasts,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),N.a.fire({type:"error",title:"You have exceeded 50 AJAX Calls a Day",text:"Please, Try again tomorrow or with another Api Key."}),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var W="rNwjsLkEBTSSNaB7HrTGjfFCY6NoBhbX",k=function(e){return"https://dataservice.accuweather.com/currentconditions/v1/"+e+"?apikey="+W},U=function(e){return"https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+e+"?apikey="+W},F=function(e){return"https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey="+W+"&q="+e},I=[{Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",EnglishName:"Tel Aviv",PrimaryPostalCode:"",Region:{ID:"MEA",LocalizedName:"Middle East",EnglishName:"Middle East"},Country:{ID:"IL",LocalizedName:"Israel",EnglishName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv",EnglishName:"Tel Aviv",Level:1,LocalizedType:"District",EnglishType:"District",CountryID:"IL"},TimeZone:{Code:"IDT",Name:"Asia/Jerusalem",GmtOffset:3,IsDaylightSaving:!0,NextOffsetChange:"2020-10-24T23:00:00Z"},GeoPosition:{Latitude:32.045,Longitude:34.77,Elevation:{Metric:{Value:34,Unit:"m",UnitType:5},Imperial:{Value:111,Unit:"ft",UnitType:0}}},IsAlias:!1,SupplementalAdminAreas:[],DataSets:["AirQualityCurrentConditions","AirQualityForecasts","Alerts","ForecastConfidence"]},{LocalObservationDateTime:"2020-07-16T14:36:00+03:00",EpochTime:1594899360,WeatherText:"Sunny",WeatherIcon:1,HasPrecipitation:!1,PrecipitationType:null,IsDayTime:!0,Temperature:{Metric:{Value:29.8,Unit:"C",UnitType:17},Imperial:{Value:86,Unit:"F",UnitType:18}},MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"}];function z(e){return{type:"LOAD_CITY",city:e}}function P(e){return{type:"WEATHER_UPDATE",currentWeather:e}}function M(e){return{type:"FORECASTS_UPDATE",forecasts:e}}function H(e){return{type:"AUTO_COMPLETE_UPDATE",cityList:e}}var _=a(121),K=a(159),R=a(161),B=Object(y.a)({root:{minWidth:150,maxHeight:140,textAlign:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginTop:12}}),V=function(e){var t=B(),a=e.forecast;return r.a.createElement(K.a,{className:t.root},r.a.createElement(R.a,null,r.a.createElement(_.a,{className:t.title,color:"textSecondary",gutterBottom:!0},new Date(a.Date).toString().slice(0,3)),r.a.createElement(_.a,{variant:"h6",component:"h2"},a.Day.IconPhrase),r.a.createElement(_.a,{className:t.pos,color:"textSecondary"},function(){var e=a.Temperature.Maximum.Value,t=a.Temperature.Minimum.Value;return Math.floor(5*((e+t)/2-32)/9).toString()+" \xb0C"}())))},J=a(19),q={query:G,get:function(e,t){return G(e).find((function(e){return e.cityKey===t}))},post:function(e,t){var a=G(e);return a.push(t),X(e,a),t},put:function(e,t){var a=G(e),n=a.findIndex((function(e){return e.cityKey===t.cityKey}));return a.splice(n,1,t),X(e,a),t},remove:function(e,t){var a=G(e);a=a.filter((function(e){return e.Key!==t})),X(e,a)},postMany:function(e,t){var a=G(e);return a.push.apply(a,Object(J.a)(t)),X(e,a),a}};function G(e){return JSON.parse(localStorage.getItem(e))||[]}function X(e,t){localStorage.setItem(e,JSON.stringify(t))}var Y={query:function(){var e=q.query("favorites");return 0===e.length?q.postMany("favorites",e):e},save:function(e){return q.post("favorites",e)},remove:function(e){return q.remove("favorites",e)},get:function(e){return q.get("favorites",e)}};var Q=Object(y.a)((function(e){return{root:{maxWidth:"1550px"},text:{margin:"10px"},button:{width:"200px"},card:{margin:"10px"},weatherText:{margin:"30px 60px 60px 60px",textAlign:"center"},textGrid:{border:"1px solid lightgrey"},"@media (max-width:730px)":{}}})),Z=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,forecasts:e.forecasts}}),{})((function(e){var t=Q(),a=e.city,n=e.currentWeather,i=e.forecasts,o=function(e){for(var t=0;t<e.length;t++)if(a.Key===e[t].Key)return!0;return!1};return r.a.createElement(d.a,{container:!0,direction:"column"},r.a.createElement(d.a,{item:!0,container:!0,direction:"row"},r.a.createElement(d.a,{item:!0,xs:1}),r.a.createElement(d.a,{item:!0,container:!0,xs:10,direction:"column",className:t.textGrid},r.a.createElement(_.a,{className:t.text,variant:"h5",component:"h2"},a.LocalizedName),r.a.createElement(_.a,{className:t.text,variant:"h5",component:"h2"},n.Temperature.Metric.Value.toString()+" \xb0C"),r.a.createElement(w.a,{className:t.button,onClick:function(){var e=Y.query();if(o(e))Y.remove(a.Key);else{var t=Object(x.a)(Object(x.a)(Object(x.a)({},a),n),{},{isFavorite:!0});Y.save(t)}},variant:"contained",color:"primary"},"toggle favorites"),r.a.createElement(_.a,{className:t.weatherText,variant:"h2"},n.WeatherText)),r.a.createElement(d.a,{item:!0,xs:1})),r.a.createElement(d.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},i&&i.map((function(e,a){return r.a.createElement(d.a,{item:!0,className:t.card,key:a},r.a.createElement(V,{forecast:e}))}))))})),$=Object(y.a)((function(){return{home:{margin:"50px auto",maxWidth:"1550px",textAlign:"center"},button:{width:"150px"},form:{display:"flex",flexDirection:"column",width:"300px",margin:"50px auto",alignItems:"center"},"@media (max-width:1550px)":{home:{margin:"0px 10px"}},"@media (max-width:450px)":{home:{margin:"0px 20px"}}}})),ee={updateCity:function(e){return function(t){t(z(e))}},setDefaultCity:function(){return function(e){e(z(D.getDefaultCity()))}},updateCurrentWeather:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.getCurrentWeather(e.Key);case 3:n=t.sent,a(P(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ForecastsAction: err in updateForecasts",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateForecasts:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.getForecasts(e.Key);case 3:n=t.sent,a(M(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ForecastsAction: err in updateForecasts",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getAutoCompCityList:function(e){return function(t){D.getAutoCompCityList(e).then((function(e){t(H(e))})).catch()}},resetAutoCompCityList:function(){return function(e){e(H([]))}}},te=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,autoCompCityList:e.autoCompCityList}}),ee)((function(e){var t=$(),a=Object(n.useState)(D.getDefaultCity()),i=Object(E.a)(a,2),o=i[0],c=i[1];Object(n.useEffect)((function(){function t(){return(t=Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateForecasts(o);case 2:return t.next=4,e.updateCurrentWeather(o);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var u=function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(n=a.target.value)){t.next=6;break}return t.next=4,e.getAutoCompCityList(n);case 4:t.next=7;break;case 6:e.resetAutoCompCityList();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(b.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.updateCity(o);case 3:return t.next=5,e.updateCurrentWeather(o);case 5:return t.next=7,e.updateForecasts(o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(d.a,{item:!0,container:!0,direction:"column"},r.a.createElement(d.a,{item:!0},r.a.createElement(O.a,{freeSolo:!0,onChange:function(t,a){var n=Object.values(e.autoCompCityList).find((function(e){return e.LocalizedName===a}));c(Object(x.a)({},n))},disableClearable:!0,options:e.autoCompCityList&&e.autoCompCityList.map((function(e){return e.LocalizedName})),renderInput:function(e){return r.a.createElement("form",{onSubmit:s,className:t.form},r.a.createElement(C.a,Object.assign({},e,{className:t.textField,label:"Search City",margin:"normal",variant:"outlined",onChange:u,InputProps:Object(x.a)(Object(x.a)({},e.InputProps),{},{type:"search"})})),r.a.createElement(w.a,{className:t.button,type:"submit",variant:"contained",color:"primary"},"Check Weather"))}})),r.a.createElement(d.a,{item:!0},r.a.createElement(Z,null)))})),ae=a(165),ne=a(166),re=a(172),ie=a(167),oe=Object(y.a)((function(e){return{toolbar:{height:"70px"},typography:{flex:1,fontSize:"16px",fontWeight:"600"},link:{paddingRight:"40px"},"@media (min-width:1300px)":{toolbar:{height:"80px"}},"@media (max-width:500px)":{link:{paddingRight:"20px"}}}})),ce=function(e){var t=oe();return r.a.createElement(ae.a,{position:"static",elevation:0},r.a.createElement(ne.a,{className:t.toolbar},r.a.createElement(_.a,{className:t.typography},"Weather App"),r.a.createElement(re.a,{component:"nav","aria-label":"main manu"},r.a.createElement(ie.a,{href:"/Alon-Tal-07-07-2020/",className:t.link,color:"inherit",variant:"body1"},"Home"),r.a.createElement(ie.a,{href:"/Alon-Tal-07-07-2020/#/favorites",className:t.link,color:"inherit",variant:"body1"},"Favorites"))))},ue=Object(y.a)({root:{minWidth:150,maxHeight:140,textAlign:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginTop:3}}),se=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,favorites:e.favorites}}),{})((function(e){var t=ue(),a=e.favorite;return r.a.createElement(K.a,{className:t.root},r.a.createElement(R.a,null,r.a.createElement(_.a,{className:t.title,color:"textSecondary",gutterBottom:!0},a.LocalizedName),r.a.createElement(_.a,{variant:"h6",component:"h2"},new Date(a.LocalObservationDateTime).toString().slice(0,3)),r.a.createElement(_.a,{className:t.pos,color:"textSecondary"},function(){var e=a.Temperature.Metric.Value;return e=Math.floor(e).toString()+" \xb0C"}()),r.a.createElement(_.a,{className:t.pos,color:"textSecondary"},a.WeatherText)))})),le=Object(y.a)((function(e){return{root:{maxWidth:"1550px"},text:{margin:"10px"},card:{margin:"10px"},noFavText:{marginTop:"20px"},weatherText:{margin:"30px 60px 60px 60px",textAlign:"center"},textGrid:{border:"1px solid lightgrey"},"@media (max-width:730px)":{}}})),me=function(e){var t=le(),a=Y.query();return r.a.createElement(d.a,{container:!0,direction:"column"},r.a.createElement(d.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},a&&a.length>0&&a.map((function(e,a){return r.a.createElement(d.a,{item:!0,className:t.card,key:a},r.a.createElement(se,{favorite:e}))})),(!a||0===a.length)&&r.a.createElement(_.a,{className:t.noFavText},"No Favorite Cities.")))},pe=a(82),fe=Object(h.a)(),he=Object(y.a)((function(e){return{}}));var de=function(e){return he(),r.a.createElement(pe.a,{style:{height:"100vh"}},r.a.createElement(d.a,{container:!0,direction:"column"},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(ce,null)),r.a.createElement(d.a,{item:!0,container:!0,xs:12},r.a.createElement(p.a,{history:fe,basename:"/Alon-Tal-07-07-2020"},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/favorites",component:me,exact:!0}),r.a.createElement(f.a,{path:"/",component:te,exact:!0}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye,xe=a(13),ve=a(79),ge=a(78),be=a.n(ge),Ee=a(77),Ce={fontFamily:"NeueHaasDisplay",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"\n  local('NeueHaasDisplay'),\n    local('NeueHaasDisplay-Roman'),\n    url(".concat(a.n(Ee).a,") format('woff')\n  "),unicodeRange:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF"},we=Object(ve.a)({breakpoints:{values:{xs:0,sm:600,md:800,lg:960,xl:1920}},palette:{primary:{main:"#1976d2"},secondary:{main:be.a[500]}},spacing:8,typography:{fontFamily:["NeueHaasDisplay"].join(","),h1:{fontSize:"60px",fontWeight:"400",lineHeight:"75px"},h2:{fontSize:"50px",fontWeight:"400"},h3:{fontSize:"17px",fontWeight:"400",lineHeight:"20px"},h4:{fontSize:"13px"},subtitle1:{fontSize:"40px",fontWeight:"400",lineHeight:"50px"}},overrides:{MuiCssBaseline:{"@global":{"@font-face":[Ce]}}}});we.typography.h1=Object(x.a)(Object(x.a)({},we.typography.h1),{},(ye={paddingLeft:"50px"},Object(xe.a)(ye,we.breakpoints.down("lg"),{paddingLeft:"50px",paddingRight:"20px"}),Object(xe.a)(ye,"@media (max-width:735px)",{fontSize:"8.9vw",paddingLeft:"10px",lineHeight:"10vw",padding:"0px"}),Object(xe.a)(ye,"@media (max-width:500px)",{fontSize:"11.6vw",lineHeight:"13.5vw",padding:"0px"}),ye));var Oe=we,Te={city:{Key:"215854",LocalizedName:"Tel Aviv"},currentWeather:{Temperature:{Metric:{Value:"--"}}},forecasts:[],autoCompCityList:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOAD_CITY":return Object(x.a)(Object(x.a)({},e),{},{city:t.city});case"WEATHER_UPDATE":return Object(x.a)(Object(x.a)({},e),{},{currentWeather:Object(x.a)({},t.currentWeather)});case"AUTO_COMPLETE_UPDATE":return Object(x.a)(Object(x.a)({},e),{},{autoCompCityList:t.cityList});case"FORECASTS_UPDATE":return Object(x.a)(Object(x.a)({},e),{},{forecasts:Object(J.a)(t.forecasts)});default:return e}},je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,Ne=Object(c.d)(Ae,je(Object(c.a)(s.a)));o.a.render(r.a.createElement(l.a,{theme:Oe},r.a.createElement(m.a,null),r.a.createElement(u.a,{store:Ne},r.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a.p+"static/media/NeueHaasDisplay-Roman.127d6b3d.woff"},91:function(e,t,a){e.exports=a(119)}},[[91,1,2]]]);
//# sourceMappingURL=main.51f94b23.chunk.js.map