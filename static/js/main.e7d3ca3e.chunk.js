(this["webpackJsonpAlon-Tal-07-07-2020"]=this["webpackJsonpAlon-Tal-07-07-2020"]||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=a(32),u=a(23),s=a(73),l=a(174),m=a(175),p=a(84),f=a(12),h=a(80),y=a(168),d=a(161),v=a(14),x=a(16),g=a.n(x),b=a(25),E=a(18),O=a(176),C=a(170),w=a(177),T=a(49),j=a.n(T),A=a(50),N=a.n(A),D={getCurrentWeather:function(e){return S.apply(this,arguments)},getAutoCompCityList:function(e){return j.a.get(U(e)).then((function(e){return e.data})).catch((function(){N.a.fire({type:"error",title:"You have exceeded 50 calls to the Server per Day",text:"Please, Try again tomorrow or with another Api Key."})}))},getForecasts:function(e){return L.apply(this,arguments)},getDefaultCity:function(){return I[0]}};function S(){return(S=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(k(t));case 3:return a=e.sent,n=a.data[0],e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),N.a.fire({type:"error",title:"You have exceeded 50 calls to the Server per Day",text:"Please, Try again tomorrow or with another Api Key."}),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function L(){return(L=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(F(t));case 3:return a=e.sent,n=a.data.DailyForecasts,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),N.a.fire({type:"error",title:"You have exceeded 50 to the Server per Day",text:"Please, Try again tomorrow or with another Api Key."}),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var W="nEcFKqO7yXdLTQEIyW86i8zsOZSNlb2x",k=function(e){return"https://dataservice.accuweather.com/currentconditions/v1/"+e+"?apikey="+W},F=function(e){return"https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+e+"?apikey="+W},U=function(e){return"https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey="+W+"&q="+e},I=[{Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",EnglishName:"Tel Aviv",PrimaryPostalCode:"",Region:{ID:"MEA",LocalizedName:"Middle East",EnglishName:"Middle East"},Country:{ID:"IL",LocalizedName:"Israel",EnglishName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv",EnglishName:"Tel Aviv",Level:1,LocalizedType:"District",EnglishType:"District",CountryID:"IL"},TimeZone:{Code:"IDT",Name:"Asia/Jerusalem",GmtOffset:3,IsDaylightSaving:!0,NextOffsetChange:"2020-10-24T23:00:00Z"},GeoPosition:{Latitude:32.045,Longitude:34.77,Elevation:{Metric:{Value:34,Unit:"m",UnitType:5},Imperial:{Value:111,Unit:"ft",UnitType:0}}},IsAlias:!1,SupplementalAdminAreas:[],DataSets:["AirQualityCurrentConditions","AirQualityForecasts","Alerts","ForecastConfidence"]},{LocalObservationDateTime:"2020-07-16T14:36:00+03:00",EpochTime:1594899360,WeatherText:"Sunny",WeatherIcon:1,HasPrecipitation:!1,PrecipitationType:null,IsDayTime:!0,Temperature:{Metric:{Value:29.8,Unit:"C",UnitType:17},Imperial:{Value:86,Unit:"F",UnitType:18}},MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/current-weather/215854?lang=en-us"}];function z(e){return{type:"LOAD_CITY",city:e}}function P(e){return{type:"WEATHER_UPDATE",currentWeather:e}}function M(e){return{type:"FORECASTS_UPDATE",forecasts:e}}function _(e){return{type:"AUTO_COMPLETE_UPDATE",cityList:e}}var H=a(128),K=a(164),R=a(166),V=Object(d.a)({root:{minWidth:150,maxHeight:140,textAlign:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginTop:12}}),B=function(e){var t=V(),a=e.forecast;return r.a.createElement(K.a,{className:t.root},r.a.createElement(R.a,null,r.a.createElement(H.a,{className:t.title,color:"textSecondary",gutterBottom:!0},new Date(a.Date).toString().slice(0,3)),r.a.createElement(H.a,{variant:"h6",component:"h2"},a.Day.IconPhrase),r.a.createElement(H.a,{className:t.pos,color:"textSecondary"},function(){var e=a.Temperature.Maximum.Value,t=a.Temperature.Minimum.Value;return Math.floor(5*((e+t)/2-32)/9).toString()+" \xb0C"}())))},q=a(167),G=a(77),J=a.n(G),Y=a(20),Q={query:X,get:function(e,t){return X(e).find((function(e){return e.cityKey===t}))},post:function(e,t){var a=X(e);return a.push(t),Z(e,a),t},put:function(e,t){var a=X(e),n=a.findIndex((function(e){return e.cityKey===t.cityKey}));return a.splice(n,1,t),Z(e,a),t},remove:function(e,t){var a=X(e);a=a.filter((function(e){return e.Key!==t})),Z(e,a)},postMany:function(e,t){var a=X(e);return a.push.apply(a,Object(Y.a)(t)),Z(e,a),a}};function X(e){return JSON.parse(localStorage.getItem(e))||[]}function Z(e,t){localStorage.setItem(e,JSON.stringify(t))}var $={query:function(){var e=Q.query("favorites");return 0===e.length?Q.postMany("favorites",e):e},save:function(e){return Q.post("favorites",e)},remove:function(e){return Q.remove("favorites",e)},get:function(e){return Q.get("favorites",e)}};var ee=function(e){for(var t=$.query(),a=0;a<t.length;a++)if(e.Key===t[a].Key)return!0;return!1},te=Object(d.a)((function(e){return{button:{color:function(e){return ee(e.city)?"#FFDF00":"lightGrey"}}}})),ae=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather}}),{})((function(e){var t=te(e),a=e.city,i=e.currentWeather,c=Object(n.useState)(ee(a)),o=Object(E.a)(c,2),u=o[0],s=o[1];Object(n.useEffect)((function(){s(ee(a))}),[a]);return r.a.createElement(q.a,{onClick:function(){if(u)$.remove(a.Key);else{var e=Object(v.a)(Object(v.a)(Object(v.a)({},a),i),{},{isFavorite:!0});$.save(e)}s(!u)},variant:"contained"},r.a.createElement(J.a,{className:t.button}))})),ne=Object(d.a)((function(e){return{root:{maxWidth:"1550px"},text:{margin:"10px"},card:{margin:"10px"},weatherText:{margin:"0px 60px 60px 60px",textAlign:"center"},textGrid:{border:"1px solid lightgrey"},"@media (max-width:730px)":{}}})),re=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,forecasts:e.forecasts}}),{})((function(e){var t=ne(),a=e.city,n=e.currentWeather,i=e.forecasts;return r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(y.a,{item:!0,container:!0,direction:"row"},r.a.createElement(y.a,{item:!0,xs:1}),r.a.createElement(y.a,{item:!0,container:!0,xs:10,direction:"column",className:t.textGrid},r.a.createElement(H.a,{className:t.text,variant:"h5",component:"h2"},a.LocalizedName," ",r.a.createElement(ae,null)),r.a.createElement(H.a,{className:t.text,variant:"h5",component:"h2"},n.Temperature.Metric.Value.toString()+" \xb0C"),r.a.createElement(H.a,{className:t.weatherText,variant:"h2"},n.WeatherText)),r.a.createElement(y.a,{item:!0,xs:1})),r.a.createElement(y.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},i&&i.map((function(e,a){return r.a.createElement(y.a,{item:!0,className:t.card,key:a},r.a.createElement(B,{forecast:e}))}))))})),ie=Object(d.a)((function(){return{button:{width:"150px"},form:{display:"flex",flexDirection:"column",width:"300px",margin:"30px auto",alignItems:"center"}}})),ce={updateCity:function(e){return function(t){t(z(e))}},setDefaultCity:function(){return function(e){e(z(D.getDefaultCity()))}},updateCurrentWeather:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.getCurrentWeather(e.Key);case 3:n=t.sent,a(P(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ForecastsAction: err in updateForecasts",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateForecasts:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.getForecasts(e.Key);case 3:n=t.sent,a(M(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ForecastsAction: err in updateForecasts",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getAutoCompCityList:function(e){return function(t){D.getAutoCompCityList(e).then((function(e){t(_(e))})).catch()}},resetAutoCompCityList:function(){return function(e){e(_([]))}}},oe=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,autoCompCityList:e.autoCompCityList}}),ce)((function(e){var t=ie(),a=Object(n.useState)(D.getDefaultCity()),i=Object(E.a)(a,2),c=i[0],o=i[1];Object(n.useEffect)((function(){function t(){return(t=Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateForecasts(c);case 2:return t.next=4,e.updateCurrentWeather(c);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var u=function(){var t=Object(b.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(n=a.target.value)){t.next=6;break}return t.next=4,e.getAutoCompCityList(n);case 4:t.next=7;break;case 6:e.resetAutoCompCityList();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(b.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.updateCity(c);case 3:return t.next=5,e.updateCurrentWeather(c);case 5:return t.next=7,e.updateForecasts(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(y.a,{item:!0,container:!0,direction:"column"},r.a.createElement(y.a,{item:!0},r.a.createElement(w.a,{freeSolo:!0,onChange:function(t,a){var n=Object.values(e.autoCompCityList).find((function(e){return e.LocalizedName===a}));o(Object(v.a)({},n))},disableClearable:!0,options:e.autoCompCityList&&e.autoCompCityList.map((function(e){return e.LocalizedName})),renderInput:function(e){return r.a.createElement("form",{onSubmit:s,className:t.form},r.a.createElement(O.a,Object.assign({},e,{className:t.textField,label:"Search City",margin:"normal",variant:"outlined",onChange:u,InputProps:Object(v.a)(Object(v.a)({},e.InputProps),{},{type:"search"})})),r.a.createElement(C.a,{className:t.button,type:"submit",variant:"contained",color:"primary"},"Check Weather"))}})),r.a.createElement(y.a,{item:!0},r.a.createElement(re,null)))})),ue=a(171),se=a(172),le=a(178),me=a(173),pe=Object(d.a)((function(e){return{toolbar:{height:"70px"},typography:{flex:1,fontSize:"16px",fontWeight:"600"},link:{paddingRight:"40px"},"@media (min-width:1300px)":{toolbar:{height:"80px"}},"@media (max-width:500px)":{link:{paddingRight:"20px"}}}})),fe=function(e){var t=pe();return r.a.createElement(ue.a,{position:"static",elevation:0},r.a.createElement(se.a,{className:t.toolbar},r.a.createElement(H.a,{className:t.typography},"Weather App"),r.a.createElement(le.a,{component:"nav","aria-label":"main manu"},r.a.createElement(me.a,{href:"/Alon-Tal-07-07-2020/",className:t.link,color:"inherit",variant:"body1"},"Home"),r.a.createElement(me.a,{href:"/Alon-Tal-07-07-2020/#/favorites",className:t.link,color:"inherit",variant:"body1"},"Favorites"))))},he=Object(d.a)({root:{minWidth:150,maxHeight:140,textAlign:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginTop:3}}),ye=Object(u.b)((function(e){return{city:e.city,currentWeather:e.currentWeather,favorites:e.favorites}}),{})((function(e){var t=he(),a=e.favorite;return r.a.createElement(K.a,{className:t.root},r.a.createElement(R.a,null,r.a.createElement(H.a,{className:t.title,color:"textSecondary",gutterBottom:!0},a.LocalizedName),r.a.createElement(H.a,{variant:"h6",component:"h2"},new Date(a.LocalObservationDateTime).toString().slice(0,3)),r.a.createElement(H.a,{className:t.pos,color:"textSecondary"},function(){var e=a.Temperature.Metric.Value;return e=Math.floor(e).toString()+" \xb0C"}()),r.a.createElement(H.a,{className:t.pos,color:"textSecondary"},a.WeatherText)))})),de=Object(d.a)((function(e){return{root:{maxWidth:"1550px"},text:{margin:"10px"},card:{margin:"10px"},noFavText:{marginTop:"20px"},weatherText:{margin:"30px 60px 60px 60px",textAlign:"center"},textGrid:{border:"1px solid lightgrey"},"@media (max-width:730px)":{}}})),ve=function(e){var t=de(),a=$.query();return r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(y.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center"},a&&a.length>0&&a.map((function(e,a){return r.a.createElement(y.a,{item:!0,className:t.card,key:a},r.a.createElement(ye,{favorite:e}))})),(!a||0===a.length)&&r.a.createElement(H.a,{className:t.noFavText},"No Favorite Cities.")))},xe=a(86),ge=Object(h.a)(),be=Object(d.a)((function(e){return{}}));var Ee=function(e){return be(),r.a.createElement(xe.a,{elevation:0},r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fe,null)),r.a.createElement(y.a,{item:!0,container:!0,xs:12},r.a.createElement(p.a,{history:ge,basename:"/Alon-Tal-07-07-2020"},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/favorites",component:ve,exact:!0}),r.a.createElement(f.a,{path:"/",component:oe,exact:!0}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe,Ce=a(13),we=a(83),Te=a(82),je=a.n(Te),Ae=a(81),Ne={fontFamily:"NeueHaasDisplay",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"\n  local('NeueHaasDisplay'),\n    local('NeueHaasDisplay-Roman'),\n    url(".concat(a.n(Ae).a,") format('woff')\n  "),unicodeRange:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF"},De=Object(we.a)({breakpoints:{values:{xs:0,sm:600,md:800,lg:960,xl:1920}},palette:{primary:{main:"#1976d2"},secondary:{main:je.a[500]}},spacing:8,typography:{fontFamily:["NeueHaasDisplay"].join(","),h1:{fontSize:"60px",fontWeight:"400",lineHeight:"75px"},h2:{fontSize:"50px",fontWeight:"400"},h3:{fontSize:"17px",fontWeight:"400",lineHeight:"20px"},h4:{fontSize:"13px"},subtitle1:{fontSize:"40px",fontWeight:"400",lineHeight:"50px"}},overrides:{MuiCssBaseline:{"@global":{"@font-face":[Ne]}}}});De.typography.h1=Object(v.a)(Object(v.a)({},De.typography.h1),{},(Oe={paddingLeft:"50px"},Object(Ce.a)(Oe,De.breakpoints.down("lg"),{paddingLeft:"50px",paddingRight:"20px"}),Object(Ce.a)(Oe,"@media (max-width:735px)",{fontSize:"8.9vw",paddingLeft:"10px",lineHeight:"10vw",padding:"0px"}),Object(Ce.a)(Oe,"@media (max-width:500px)",{fontSize:"11.6vw",lineHeight:"13.5vw",padding:"0px"}),Oe));var Se=De,Le={city:{Key:"215854",LocalizedName:"Tel Aviv"},currentWeather:{Temperature:{Metric:{Value:"--"}}},forecasts:[],autoCompCityList:[]},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOAD_CITY":return Object(v.a)(Object(v.a)({},e),{},{city:t.city});case"WEATHER_UPDATE":return Object(v.a)(Object(v.a)({},e),{},{currentWeather:Object(v.a)({},t.currentWeather)});case"AUTO_COMPLETE_UPDATE":return Object(v.a)(Object(v.a)({},e),{},{autoCompCityList:t.cityList});case"FORECASTS_UPDATE":return Object(v.a)(Object(v.a)({},e),{},{forecasts:Object(Y.a)(t.forecasts)});default:return e}},ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,Fe=Object(o.d)(We,ke(Object(o.a)(s.a)));c.a.render(r.a.createElement(l.a,{theme:Se},r.a.createElement(m.a,null),r.a.createElement(u.a,{store:Fe},r.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a.p+"static/media/NeueHaasDisplay-Roman.127d6b3d.woff"},96:function(e,t,a){e.exports=a(126)}},[[96,1,2]]]);
//# sourceMappingURL=main.e7d3ca3e.chunk.js.map